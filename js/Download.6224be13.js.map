{"version":3,"sources":["webpack:///./src/views/magazine/download.vue?4fef","webpack:///./src/utils/request.js","webpack:///./src/api/magazine.js","webpack:///src/views/magazine/download.vue","webpack:///./src/views/magazine/download.vue?351e","webpack:///./src/views/magazine/download.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","_l","item","key","year","class","currentYear","on","$event","getData","_v","_s","value","title","attrs","pic","link","staticRenderFns","service","axios","create","timeout","interceptors","request","use","config","error","Promise","reject","response","getDownInfo","url","methods","name","data","navList","list","then","res","changeYear","mounted","component"],"mappings":"iHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,YAAYC,YAAY,CAAC,QAAU,MAAM,CAACH,EAAG,MAAM,CAACE,YAAY,qBAAqBN,EAAIQ,GAAIR,EAAW,SAAE,SAASS,GAAM,OAAOL,EAAG,IAAI,CAACM,IAAID,EAAKE,KAAKC,MAAM,CAAC,OAAQ,CAAC,GAAMZ,EAAIa,aAAeJ,EAAKE,OAAOG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOf,EAAIgB,QAAQP,EAAKE,SAAS,CAACX,EAAIiB,GAAGjB,EAAIkB,GAAGT,EAAKU,QAAQf,EAAG,aAAY,KAAKA,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,sBAAsBN,EAAIQ,GAAIR,EAAQ,MAAE,SAASS,GAAM,OAAOL,EAAG,MAAM,CAACM,IAAID,EAAKW,MAAMd,YAAY,2BAA2B,CAACF,EAAG,MAAM,CAACiB,MAAM,CAAC,IAAMZ,EAAKa,IAAI,IAAMb,EAAKW,SAAShB,EAAG,IAAI,CAACA,EAAG,OAAO,CAACJ,EAAIiB,GAAGjB,EAAIkB,GAAGT,EAAKW,UAAUhB,EAAG,IAAI,CAACiB,MAAM,CAAC,KAAOZ,EAAKc,KAAK,OAAS,SAAS,MAAQ,KAAK,CAACnB,EAAG,MAAM,CAACiB,MAAM,CAAC,IAAM,iDAAiD,IAAMZ,EAAKW,kBAAiB,QACt3BI,EAAkB,G,iCCClBC,EAAUC,IAAMC,OAAO,CAEzBC,QAAS,MAGXH,EAAQI,aAAaC,QAAQC,KAC3B,SAAAC,GACE,OAAOA,KAGT,SAAAC,GACEC,QAAQC,OAAOF,MAInBR,EAAQI,aAAaO,SAASL,KAC5B,SAAAK,GAEE,OAAOA,KAET,SAAAH,GACEC,QAAQC,OAAOF,MAKJR,QC1BR,SAASY,EAAa1B,GAC3B,OAAOmB,EAAQ,CACbQ,IAAK,qBAAF,OAAuB3B,GAC1B4B,QAAS,QCyBb,OACEC,KAAM,WACNC,KAFF,WAGI,MAAO,CACLC,QAAS,CACf,CACQ,KAAR,OACQ,MAAR,QAEA,CACQ,KAAR,OACQ,MAAR,QAEA,CACQ,KAAR,OACQ,MAAR,QAEA,CACQ,KAAR,OACQ,MAAR,QAEA,CACQ,KAAR,OACQ,MAAR,QAEA,CACQ,KAAR,OACQ,MAAR,aAEA,CACQ,KAAR,OACQ,MAAR,cAGMC,KAAM,GACN9B,YAAa,OAGjB0B,QAAS,CACPvB,QADJ,SACA,cACMqB,EAAY1B,GAAMiC,MAAK,SAA7B,GACYC,EAAIJ,OACN,EAAV,YACU,EAAV,mBAIIK,WATJ,SASA,GACM7C,KAAKY,YAAcF,IAGvBoC,QAnDF,WAoDI9C,KAAKe,QAAQ,QClFgV,I,YCO7VgC,EAAY,eACd,EACAjD,EACAyB,GACA,EACA,KACA,KACA,MAIa,aAAAwB,E","file":"js/Download.6224be13.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"main-gray\",staticStyle:{\"padding\":\"0\"}},[_c('div',{staticClass:\"magazine-down-nav\"},_vm._l((_vm.navList),function(item){return _c('p',{key:item.year,class:['item', {'on': _vm.currentYear == item.year}],on:{\"click\":function($event){return _vm.getData(item.year)}}},[_vm._v(_vm._s(item.value)),_c('span')])}),0)]),_c('div',{staticClass:\"main-1000\"},[_c('div',{staticClass:\"magazine-down-main\"},_vm._l((_vm.list),function(item){return _c('div',{key:item.title,staticClass:\"magazine-down-main-item\"},[_c('img',{attrs:{\"src\":item.pic,\"alt\":item.title}}),_c('p',[_c('span',[_vm._v(_vm._s(item.title))]),_c('a',{attrs:{\"href\":item.link,\"target\":\"_blank\",\"title\":\"\"}},[_c('img',{attrs:{\"src\":\"http://www.cwea.org.cn/images/download-img.png\",\"alt\":item.title}})])])])}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from 'axios'\r\n\r\nvar service = axios.create({\r\n  // baseURL: ,\r\n  timeout: 5000\r\n})\r\n\r\nservice.interceptors.request.use(\r\n  config => {\r\n    return config\r\n  },\r\n  // 发达发\r\n  error => {\r\n    Promise.reject(error)\r\n  }\r\n)\r\n\r\nservice.interceptors.response.use(\r\n  response => {\r\n    // console.log('响应拦截器，响应返回前调用')\r\n    return response\r\n  },\r\n  error => {\r\n    Promise.reject(error)\r\n  }\r\n)\r\n\r\n\r\nexport default service\r\n","import request from '@/utils/request'\r\n\r\nexport function getDownInfo (year) {\r\n  return request({\r\n    url: `api/magazine/down/${year}`,\r\n    methods: 'get',\r\n    // data\r\n  })\r\n}\r\n","<template>\r\n  <div>\r\n    <div class=\"main-gray\" style=\"padding: 0;\">\r\n      <div class=\"magazine-down-nav\">\r\n        <p v-for=\"item in navList\" :key=\"item.year\" @click=\"getData(item.year)\" :class=\"['item', {'on': currentYear == item.year}]\">{{item.value}}<span></span></p>\r\n      </div>\r\n    </div>\r\n    <div class=\"main-1000\">\r\n      <div class=\"magazine-down-main\">\r\n        <div class=\"magazine-down-main-item\" v-for=\"item in list\" :key=\"item.title\">\r\n          <img :src=\"item.pic\" :alt=\"item.title\">\r\n          <p>\r\n            <span>{{item.title}}</span>\r\n            <a :href=\"item.link\" target=\"_blank\" title=\"\"><img src=\"http://www.cwea.org.cn/images/download-img.png\" :alt=\"item.title\"></a>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/*\r\n * 点击头部，切换不同块来显示，有很多种思路\r\n *\r\n * 1. 各年份的数据都是放在一块的。通过计算属性，来筛选对应年份的数据。但是计算属性，怎么异步请求呢...\r\n * 2. 其实都是同一个组件，点击不同的年份，让这个组件请求不同的数据，然后渲染进来\r\n */\r\nimport { getDownInfo } from '@/api/magazine'\r\n\r\nexport default {\r\n  name: 'Download',\r\n  data () {\r\n    return {\r\n      navList: [\r\n        {\r\n          year: '2019',\r\n          value: '2019'\r\n        },\r\n        {\r\n          year: '2018',\r\n          value: '2018'\r\n        },\r\n        {\r\n          year: '2017',\r\n          value: '2017'\r\n        },\r\n        {\r\n          year: '2016',\r\n          value: '2016'\r\n        },\r\n        {\r\n          year: '2015',\r\n          value: '2015'\r\n        },\r\n        {\r\n          year: '2013',\r\n          value: '2013-2014'\r\n        },\r\n        {\r\n          year: '2010',\r\n          value: '2010-2012'\r\n        },\r\n      ],\r\n      list: [],\r\n      currentYear: 2019\r\n    }\r\n  },\r\n  methods: {\r\n    getData (year) {\r\n      getDownInfo(year).then((res) => {\r\n        if (res.data) {\r\n          this.list = res.data\r\n          this.changeYear(year)\r\n        }\r\n      })\r\n    },\r\n    changeYear (year) {\r\n      this.currentYear = year\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getData(2019)\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./download.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./download.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./download.vue?vue&type=template&id=48c46b75&\"\nimport script from \"./download.vue?vue&type=script&lang=js&\"\nexport * from \"./download.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}